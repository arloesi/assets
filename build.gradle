
apply plugin: "groovy"
apply plugin: "eclipse"

ext {
  rhino="1.7R4"
  junit="4.11"
  scala="2.9.3"
  test="2.0.M5b"
}

repositories {
  mavenCentral()
}

dependencies {
  compile gradleApi()
  compile localGroovy()
  compile group:"org.mozilla",name:"rhino",version:rhino

  testCompile group:"junit",name:"junit",version:junit
}

eclipse {
  classpath {
    downloadSources=true
    downloadJavadoc=true
  }
}

sourceSets {
  main {
    groovy {
      srcDirs = ["src/main/groovy"]
    }
  }

  test {
    groovy {
      srcDirs = ["src/test/groovy"]
    }

    resources {
      srcDirs = ["src/main/resources"]
    }
  }
}

test {
  // set heap size for the test JVM(s)
  minHeapSize = "128m"
  maxHeapSize = "512m"

  // set JVM arguments for the test JVM(s)
  jvmArgs '-XX:MaxPermSize=256m'
}

task projects(dependsOn:["cleanEclipse","eclipseProject","eclipseClasspath"]) << {
}
